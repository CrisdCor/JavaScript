// Formas en las que se puede cambiar el contexto de this

function saludar(...rest) {
  console.log(this, rest);
}

/**
 * ********************************************************************************************************************************************************
 * Forma 1
 * ********************************************************************************************************************************************************
 */

saludar.call({ propiedad: "Hola mundo" }, 1, 5);

/**
 * ********************************************************************************************************************************************************
 * Forma 2
 * ********************************************************************************************************************************************************
 */

saludar.apply({ propiedad: "Hola mundo" }, [1, 5]); // La única diferencia con call() es que el resto de los argumentos se pasa como un array

/**
 * ********************************************************************************************************************************************************
 * Forma 3
 * ********************************************************************************************************************************************************
 */

let nuevoSaludo = saludar.bind({ propiedad: "Hola mundo" });
nuevoSaludo(1, 5); // Esta es una manera dentro del método bind

saludar.bind({ propiedad: "Hola mundo" })(1, 5); // Esta es la forma más corta usando bind

/**
 * ********************************************************************************************************************************************************
 * Aplicando los método actuales en el ejemplo de la lesión anterio del archivo "12-this-contexto.js"
 * ********************************************************************************************************************************************************
 */

/**
 * ********************************************************************************************************************************************************
 * Ejemplo 1
 * ********************************************************************************************************************************************************
 */

// const usuario = {
//   nombre: "Cristian",
//   ciudadania: ["Chile", "Colombian", "Japonés"],
//   mostrarCiudadanias() {
//     this.ciudadania.forEach(
//       function (ciudadania) {
//         console.log(this.nombre, ciudadania);
//       }.bind(this)
//     );
//   },
// };

/**
 * ********************************************************************************************************************************************************
 * Ejemplo 2
 * ********************************************************************************************************************************************************
 */

// const usuario = {
//   nombre: "Cristian",
//   ciudadania: ["Chile", "Colombian", "Japonés"],
//   mostrarCiudadanias() {
//     let self = this; // En ocasiones usan that o esto
//     this.ciudadania.forEach(function (ciudadania) {
//       console.log(self.nombre, ciudadania);
//     });
//   },
// };

/**
 * ********************************************************************************************************************************************************
 * Ejemplo 3
 * ********************************************************************************************************************************************************
 */

const usuario = {
  nombre: "Cristian",
  ciudadanias: ["Chile", "Colombian", "Japonés"],
  mostrarCiudadanias() {
    this.ciudadanias.forEach(function (ciudadania) {
      console.log(this.nombre, ciudadania);
    }, this);
  },
};

usuario.mostrarCiudadanias();
